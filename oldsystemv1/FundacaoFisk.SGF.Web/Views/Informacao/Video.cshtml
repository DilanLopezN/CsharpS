@{
    ViewBag.Title = "Videoaulas";
	Layout = "~/Views/Shared/_layout.cshtml";
}

@section scripts {
	@Scripts.Render("~/bundles/video")
	<link href="~/Content/themes/base/dojo1.8.5r/dojox/form/resources/CheckedMultiSelect.css" rel="stylesheet" />
    <link href="~/Content/themes/base/dojo1.8.5r/dojox/form/resources/UploaderFileList.css" rel="stylesheet" />
    <script src="~/Scripts/jquery.maskedinput-1.3.js"></script>
}

@section scriptsBody{

	<script type="text/javascript">
	    document.getElementById("labelTitulos").innerHTML = "Videoaulas";

		//**** Requerires para a Tabulação ****\\
		require([
				"dojo/_base/event",
				"dojox/validate/web",
				"dojox/validate/check",
				"dijit/form/NumberTextBox",
				"dijit/form/ValidationTextBox",
				"dijit/form/Form",
				"dojox/form/Manager",
				"dijit/form/TimeTextBox",
				"dijit/form/DateTextBox"
		]);
		montarMetodosVideo();

	</script>
}

<div class="apresentadorMsg" id="apresentadorMensagem" style="display: none;"></div>

<table class="Table" style="width:100%" id="content-table">
						<tr>
							<th rowspan="3" class="sized">
								<img src="~/images/shared/side_shadowleft.jpg" width="20" height="300" alt="" /></th>
							<th class="topleft"></th>
							<td id="tbl-border-top">&nbsp;</td>
							<th class="topright"></th>
							<th rowspan="3" class="sized">
								<img src="~/images/shared/side_shadowright.jpg" width="20" height="300" alt="" /></th>
						</tr>
						<tr>
							<td id="tbl-border-left"></td>
							<td style="height:100%;">
								<!--  start content-table-inner ...................................................................... START -->
								<div id="content-table-inner">
									<div class="EspacoCaixa caixaPesquisa">
										<table id="tableConceito" class="table">
											<tr style="vertical-align: middle;">
												<td class="tdRight" style="width: 10%;">
													<label for="nome">Nome:</label></td>
												<td style="width: 20%;" class="dojoTextBoxIECorrect">
													<input type="text" id="_nome" name="Nome" style="width: 100%;" maxlength="254" data-dojo-type="dijit/form/TextBox" /></td>
												<td class="tdRight" style="width: 10%;">
                                                    <label for="numero">Nº Videoaula:</label></td>
                                                <td class="dojoTextBoxIECorrect" style="width: 20%;">
                                                    <input onkeypress="mascaraInt(dojo.byId('_numero'));" required="false" id="_numero" name="numero" size="61" maxlength="12" style="width: 100%;" data-dojo-props="smallDelta:1, constraints:{min:0,max:255,places:0}" data-dojo-type="dijit/form/ValidationTextBox" /></td>
												<td class="tdRight" style="width: 7%;">
													<label>Menu:</label></td>
												<td class="alignDojoData" style="width: 20%;">
													<select
														id="cbMenu"
														data-dojo-id="cbMenu"
														data-dojo-props='dropDown:true'
														name="cbMenu"
														multiple="true"
														data-dojo-type="dojox/form/CheckedMultiSelect" style="width: 100%;" >
													</select>
												</td>
												<td rowspan="2" class="AlinhaDireita" style="width: 15%;">
													<input id="pesquisarVideo" />
												</td>
											</tr>
										</table>
									</div>
									<div style="padding-top:10px">
										<div class="linha_acoes" style="width: 100%"></div>
										<table style="width: 100%" class="Alinhamento">
											<tr style="width: 100%">
												<td style="text-align: left; width: 25%">
													<div class="linkAcoes" id="linkAcoesVideo"></div>
												</td>
												<td style="text-align: center; width: 50%">
													<input id="novoVideo" title="Novo" />
												</td>
												<td style="text-align: right; width: 25%">
													<span class="linkSelecionados" id="linkSelecionadosVideo"></span>
												</td>
											</tr>
										</table>
										<div class="linha_acoes" style="width: 100%"></div>
									</div>
									<div data-dojo-type="dijit/layout/ContentPane" id="ContentGridVideo" style="padding-left:0px; padding-right:0px;">
										<div class="gridCadBasic" style="height: 350px">
											<div id="gridVideos"></div>
										</div>
									</div>
									<div id="dialogVideo" data-dojo-type="dijit/Dialog" class="Dialogo" style="max-width: 800px;" title="Cadastro de Vídeos">
										<div class="apresentadorMsg" id="apresentadorMensagemVideo" style="display: none;"></div>
										<div class="corpo_interno" >
											 
											<div  class="scroll">
											   
												<form data-dojo-type="dojox/form/Manager" enctype="multipart/form-data" class="Formulario" id="formVideo" style="width: 100%">
													 <input id="cd_video" type="hidden" hidden />
													@*<input id="cd_video" type="text"  />*@
													<div style="width: 98%; height: 150px;" class="scroll">
														<table class="Table">
                                                            <tr>
                                                                

                                                                <td class="CorpoFormAux AlinhaDireita nowrap" style="width: 5%">
                                                                    <label>Nº Videoaula:</label></td>
                                                                <td class="nowrap" style="width: 5%">
                                                                    <input id="VideoNro" name="VideoNro" type="text"
                                                                           style="width: 80%; max-width: 50px"
                                                                           required="true"
                                                                           maxlength="12"
                                                                           data-dojo-type="dijit/form/ValidationTextBox"
                                                                           data-dojo-props="smallDelta:1, constraints:{min:0,max:255,places:0}"
                                                                           onkeypress="onkeypress = mascaraInt(document.getElementById('VideoNro'));"/>

                                                                </td>
                                                                <td class="CorpoFormAux AlinhaDireita nowrap" style="width: 5%">
                                                                    <label>Parte Videoaula:</label></td>
                                                                <td class="nowrap" style="width: 5%">
                                                                    <input id="ParteNro" name="VideoNro" type="text"
                                                                           style="width: 80%; max-width: 50px"
                                                                           required="true"
                                                                           maxlength="12"
                                                                           value="1"
                                                                           data-dojo-type="dijit/form/ValidationTextBox"
                                                                           data-dojo-props="smallDelta:1, constraints:{min:0,max:255,places:0}"
                                                                           onkeypress="onkeypress = mascaraInt(document.getElementById('ParteNro'));"/>

                                                                </td>
                                                                <td class="CorpoFormAux AlinhaDireita nowrap" style="width: 5%">
                                                                    <label>Nome:</label></td>
                                                                <td class="nowrap" style="width: 20%">
                                                                    <input id="VideoNome" name="VideoNome" size="61" maxlength="254" style="width: 100%;" required="required"
                                                                           data-dojo-type="dijit/form/ValidationTextBox"/>
                                                                </td>
                                                                <td class="CorpoFormAux AlinhaDireita nowrap" style="width: 5%">
                                                                    <label>Menu:</label></td>
                                                                <td class="nowrap" style="width: 15%">
                                                                    <select id="cbMenuCad" name="cbMenuCad" data-dojo-type="dijit/form/FilteringSelect" required="true" style="width: 90%;"></select>
                                                                </td>
                                                            </tr>

															<tr>
																<td class="CorpoFormAux AlinhaDireita nowrap" style="width: 5%">
																<td colspan="5" class="nowrap" style="width: 20%">
																	<input id="NomeArquivo" name="NomeArquivo" size="61" style="width: 100%;" required="required"
																data-dojo-type="dijit/form/ValidationTextBox" readonly="true" />
															   
																	<input 
																	   data-dojo-props='iconClass:"dijitEditorIcon dijitEditorIconUpload" '
																		id="uploaderVideoIncluir"></input>
																	<div id="myDivIncluir"></div>
																	
																	<input 
																	   data-dojo-props='iconClass:"dijitEditorIcon dijitEditorIconUpload" '
																		id="uploaderVideoEditar"></input>
																	<div id="myDivEditar"></div>
																</td>

															</tr>
														</table>
													</div>
													<div class="containerCrud" style="width: 100%; padding-top: 20px;">
														<div class="linha_acoes" style="width: 100%"></div>
														<div style="text-align: center">
															<span id="divIncluirVideo">
																<input type="button" id="incluirVideo" title="incluir" /></span>
															<span id="divAlterarVideo" style="display: none;">
																<input type="button" id="alterarVideo" title="Alterar" /></span>
															<span id="divExcluirVideo" style="display: none;">
																<input type="button" id="deleteVideo" title="Excluir" /></span>
															<span id="divLimparVideo">
																<input type="button" id="limparVideo" title="Limpar" /></span>
															<span id="divCancelarVideo" style="display: none;">
																<input type="button" id="cancelarVideo" title="Cancelar" /></span>
															<span id="divFecharVideo">
																<input type="button" id="fecharVideo" title="Fechar" /></span>
														</div>
														<div class="linha_acoes" style="width: 100%"></div>
													</div>
												</form>
											</div>
										</div>
									</div>

									<div class="playerVideo" id="playerVideo"></div>

									</div>
									<!--  end content-table-inner ............................................END  -->
								</td>
								<td id="tbl-border-right"></td>
							</tr>
							<tr>
								<th class="sized bottomleft"></th>
								<td id="tbl-border-bottom">&nbsp;</td>
								<th class="sized bottomright"></th>
							</tr>
						</table>